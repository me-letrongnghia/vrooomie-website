<section class="vrooomie-cars">
    <h2>Xe Dành Cho Bạn</h2>

    <!-- Loading State -->
    <div class="dots-loader" *ngIf="loading">
        <span></span><span></span><span></span>
    </div>

    <!-- Error State -->
    <div *ngIf="error && !loading" class="error-state">
        <p>{{ error }}</p>
        <button (click)="loadCars()" class="retry-button">Thử lại</button>
    </div>

    <!-- Cars List -->
    <div *ngIf="!loading && !error" class="car-cards">
        <div *ngFor="let car of cars" class="car-card">
            <a href="" routerLink="/car/{{ car.id }}">
                <div class="car-image-wrapper">
                    <img [src]="car.imageUrl" [alt]="car.brand + ' ' + car.model" />
                    <span class="flash-icon"><i class="fa-solid fa-bolt"></i></span>
                    <div class="car-tags">
                        <span class="status-tag" [ngClass]="getStatusClass(car.status)">{{ getStatusText(car.status) }}</span>
                    </div>
                </div>
                <div class="car-info">
                    <h3> {{ car.brand }} {{ car.model }} </h3>
                    <div class="car-details">
                        <span><i class="fa-solid fa-car"></i> {{ car.type }}</span>
                    </div>
                    <div class="car-details">
                        <span><i class="fa-solid fa-ticket"></i> {{ car.licensePlate }}</span>
                    </div>
                    <div class="car-details">
                        <span><i class="fa-solid fa-location-dot"></i> {{ car.address }}</span>
                    </div>
                    <!-- <div class="car-description" *ngIf="car.description">
                        <span>{{ car.description }}</span>
                    </div> -->
                    <div class="car-rating">
                        <span class="star"><i class="fa-solid fa-star"></i> 5.0</span>
                    </div>
                    <div class="car-price">
                        <span class="old-price">1.108K</span>
                        <span class="new-price">{{ formatPrice(car.pricePerDay) }}K</span>
                        <span class="per-day">/ngày</span>
                    </div>
                </div>
            </a>
        </div>

        <!-- No cars message -->
        <div *ngIf="cars.length === 0" class="no-cars">
            <p>Hiện tại không có xe nào có sẵn.</p>
        </div>
    </div>
</section>