<!-- Header -->
<header class="vrooomie-header">
  <div class="logo">
    <img routerLink="" src="https://www.mioto.vn/static/media/logo-full.ea382559.png" alt="VROOOMIE Logo" />
  </div>
  <nav *ngIf="!isAuthLoading">
    <a routerLink="/about-us">Về Vrooomie</a>
    <a routerLink="/become-car-owner">Trở thành chủ xe</a>
    <a routerLink="/my-trips">Chuyến của tôi</a>
  </nav>
  <div class="header-actions" *ngIf="!isAuthLoading">
    <span class="bell-icon"><i class="fa-regular fa-bell"></i></span>
    <span class="cmt-icon"><i class="fa-regular fa-comment"></i></span>

    <!-- Show login/register buttons when not authenticated -->
    <div *ngIf="!isAuthLoading && !isAuthenticated" class="auth-buttons">
      <button class="register-button" (click)="showRegister()">Đăng ký</button>
      <button class="login-button" (click)="showLogin()">Đăng nhập</button>
    </div>

    <!-- Show user profile when authenticated -->
    <div *ngIf="isAuthenticated" class="user-profile" routerLink="/user-profile">
      <img [src]="currentUser?.avatarUrl" [alt]="currentUser?.avatarUrl" class="user-avatar">
      <span class="user-name">{{ currentUser?.fullName }}</span>
      <i class="fa-solid fa-chevron-down dropdown-arrow"></i>
    </div>
  </div>
</header>

<!-- Loader -->
<app-loader [isLoading]="(loadingService.loading$ | async) ?? false"></app-loader>

<!-- Router-outlet -->
<router-outlet></router-outlet>

<!-- Modals -->
<app-login *ngIf="isLoginVisible" (close)="hideLogin()" (switchToRegister)="onSwitchToRegister()">
</app-login>

<app-register *ngIf="isRegisterVisible" (close)="hideRegister()" (switchToLogin)="onSwitchToLogin()">
</app-register>

<!-- Footer -->
<footer></footer>